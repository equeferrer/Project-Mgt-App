<%= render "devise/shared/error_messages", resource: resource %>

<div class="container mt-5 container-form">
  <div class="form-layout-center-large account-form-edit mt-5">
    <%= link_to "< Back", :back %>
    <h2 class="text-center mb-4 custom" style="color:gray">Edit Profile</h2>
  <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>
    <div class="form-row d-flex flex-row justify-content-between mt-4">
      <div class="col form-group col-md-4-custom">
        <div class="form-floating mb-1">
          <%= f.text_field :first_name, class: "form-control", id: "floatingFirstName", placeholder: "First Name"  %>
          <%= f.label :first_name, for: "floatingFirstName" %>
        </div>
        <div class="form-floating mb-1">
          <%= f.text_field :last_name, class: "form-control", id: "floatingLastName", placeholder: "Last Name"  %>
          <%= f.label :last_name, for: "floatingLastName" %>
        </div>
        <div class="form-floating mb-1">
          <%= f.email_field :email, autocomplete: "email", class: "form-control", id: "floatingEmail", placeholder: "name@example.com"  %>
          <%= f.label :email, for: "floatingEmail" %>
        </div>
      </div>
      <div class = "vertical mx-4"></div> 
      <div class="col form-group col-md-4-custom"> 
        <div class="text-center change-pw-text">
          <h4 style="color:#6e30ae"> Change Password </h4>
          <small class="gray-text">Leave blank if you don't want to change password</small>
        </div>
        <div class="form-floating float-pass mb-1 mt-2">  
          <%= f.password_field :password, autocomplete: "new-password", class:"form-control", id:"floatingPassword", placeholder:"New password" %>
          <%= f.label "New password (#{@minimum_password_length} characters min)", for: "floatingPassword" %>  
        </div>
        <div class="form-floating float-pass mb-1">
          <%= f.password_field :password_confirmation, autocomplete: "new-password", class:"form-control", id:"floatingPasswordConfirm", placeholder:"Confirm new password" %>
          <%= f.label "Confirm new password", for: "floatingPasswordConfirm" %>
        </div>
      </div>
    </div>    
  
  <div class="text-center mt-4">
        <small><b>Enter current password to confirm changes:</b></small>
  </div>
    <div class="form-floating float-pass mb-2 text-center col-centered" style="width:50%;">
      <%= f.password_field :current_password, autocomplete: "current-password", class:"form-control", id:"floatingCurrentPassword", placeholder:"Password" %>
      <%= f.label :current_password, for: "floatingCurrentPassword" %>  
    </div>

    <div class="actions text-center mb-5">
      <%= f.submit "Update", class:"btn btn-custom-primary", style:"width:50%" %>
    </div>
  <% end %>

  <hr/>
  <div class="text-center"><%= link_to "Unhappy? Cancel my account", registration_path(resource_name), data: { confirm: "Are you sure you want to delete your account?" }, method: :delete , class:"text-center col-center danger-link" %></div>
  </div>
</div>

<%= render 'layouts/bg-images-edit'%>
